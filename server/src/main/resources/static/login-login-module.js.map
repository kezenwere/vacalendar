{"version":3,"sources":["webpack:///./src/app/auth/login/login.component.html","webpack:///./src/app/auth/login/login.component.scss","webpack:///./src/app/auth/login/login.component.ts","webpack:///./src/app/auth/login/login.module.ts","webpack:///./src/app/auth/login/login.routing.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["module.exports = \"<section style=\\\"position: relative; z-index: 2; height: 100vh;\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"space-around center\\\"\\r\\n         [@loginComponentAnimate]>\\r\\n  <mat-card class=\\\"card\\\">\\r\\n    <mat-card-header>\\r\\n      <div mat-card-avatar class=\\\"header-image\\\"><i class=\\\"fa fa-calendar-plus-o fa-2x\\\"></i> </div>\\r\\n      <mat-card-title>vaCalendar</mat-card-title>\\r\\n      <mat-card-subtitle>â€¦have vacation plans centrally managed</mat-card-subtitle>\\r\\n    </mat-card-header>\\r\\n    <img mat-card-image src=\\\"../../../assets/vacation-bg.jpg\\\">\\r\\n    <mat-card-content>\\r\\n      <p>\\r\\n        vaCalendar provides a central point of entry and report of Aurea.com team members vacation plan.\\r\\n      </p>\\r\\n      <ol>\\r\\n        <li>Request your vacation</li>\\r\\n        <li>Delete your vacation requests</li>\\r\\n        <li>Approve or Reject vacation requests</li>\\r\\n        <li>Sends Google Calendar Notification</li>\\r\\n      </ol>\\r\\n    </mat-card-content>\\r\\n    <div *ngIf=\\\"errorMessages\\\" class=\\\"alert alert-danger\\\" role=\\\"alert\\\">\\r\\n      <strong>Oh snap! </strong> {{ errorMessages }}\\r\\n    </div>\\r\\n    <mat-card-actions>\\r\\n      <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"authRequest()\\\" style=\\\"width: 100%;\\\">\\r\\n        LOGIN &nbsp;WITH YOUR AUREA ACCOUNT\\r\\n        <i class=\\\"fa fa-sign-in\\\"></i>\\r\\n      </button>\\r\\n    </mat-card-actions>\\r\\n  </mat-card>\\r\\n</section>\\r\\n\\r\\n<!--#fbfbfc-->\\r\\n<div style=\\\"    background: #fff;\\r\\n    bottom: 0;\\r\\n    direction: ltr;\\r\\n    left: 0;\\r\\n    overflow: hidden;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n    z-index: 1;\\\" aria-hidden=\\\"true\\\">\\r\\n  <svg width=\\\"100%\\\" height=\\\"99.2vh\\\" xmlns=\\\"https://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 1440 810\\\"\\r\\n       preserveAspectRatio=\\\"xMinYMin slice\\\" aria-hidden=\\\"true\\\">\\r\\n    <path fill=\\\"#efefee\\\"\\r\\n          d=\\\"M592.66 0c-15 64.092-30.7 125.285-46.598 183.777C634.056 325.56 748.348 550.932 819.642 809.5h419.672C1184.518 593.727 1083.124 290.064 902.637 0H592.66z\\\"></path>\\r\\n    <path fill=\\\"#f6f6f6\\\"\\r\\n          d=\\\"M545.962 183.777c-53.796 196.576-111.592 361.156-163.49 490.74 11.7 44.494 22.8 89.49 33.1 134.883h404.07c-71.294-258.468-185.586-483.84-273.68-625.623z\\\"></path>\\r\\n    <path fill=\\\"#f7f7f7\\\"\\r\\n          d=\\\"M153.89 0c74.094 180.678 161.088 417.448 228.483 674.517C449.67 506.337 527.063 279.465 592.56 0H153.89z\\\"></path>\\r\\n    <path fill=\\\"#fbfbfc\\\" d=\\\"M153.89 0H0v809.5h415.57C345.477 500.938 240.884 211.874 153.89 0z\\\"></path>\\r\\n    <path fill=\\\"#ebebec\\\"\\r\\n          d=\\\"M1144.22 501.538c52.596-134.583 101.492-290.964 134.09-463.343 1.2-6.1 2.3-12.298 3.4-18.497 0-.2.1-.4.1-.6 1.1-6.3 2.3-12.7 3.4-19.098H902.536c105.293 169.28 183.688 343.158 241.684 501.638v-.1z\\\"></path>\\r\\n    <path fill=\\\"#e1e1e1\\\"\\r\\n          d=\\\"M1285.31 0c-2.2 12.798-4.5 25.597-6.9 38.195C1321.507 86.39 1379.603 158.98 1440 257.168V0h-154.69z\\\"></path>\\r\\n    <path fill=\\\"#e7e7e7\\\"\\r\\n          d=\\\"M1278.31,38.196C1245.81,209.874 1197.22,365.556 1144.82,499.838L1144.82,503.638C1185.82,615.924 1216.41,720.211 1239.11,809.6L1439.7,810L1439.7,256.768C1379.4,158.78 1321.41,86.288 1278.31,38.195L1278.31,38.196z\\\"></path>\\r\\n  </svg>\\r\\n</div>\\r\\n\"","module.exports = \".card {\\n  max-width: 400px; }\\n  .card .header-image {\\n    background-size: cover; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXV0aC9sb2dpbi9GOlxcQ3Jvc3NPdmVyXFxCb290Y2FtcFxcSW5ub3ZhdGlvblxcdmFjYXRpb24tY2FsZW5kYXJcXHdlYi9zcmNcXGFwcFxcYXV0aFxcbG9naW5cXGxvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWVBO0VBQ0UsaUJBQWdCLEVBS2pCO0VBTkQ7SUFJSSx1QkFBc0IsRUFDdkIiLCJmaWxlIjoic3JjL2FwcC9hdXRoL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy86aG9zdHtcclxuLy8gIHdpZHRoOiAxMDAlO1xyXG4vLyAgaGVpZ2h0OiAxMDAlO1xyXG4vL31cclxuLy9cclxuLy8ubG9nby1saW5re1xyXG4vLyAgbWFyZ2luLWJvdHRvbTogMTAwcHg7XHJcbi8vICBvcGFjaXR5OiAwLjM7XHJcbi8vICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAzMDBtcztcclxuLy99XHJcbi8vXHJcbi8vLmxvZ28tbGluazpob3ZlciB7XHJcbi8vICBvcGFjaXR5OiAxO1xyXG4vL31cclxuXHJcbi5jYXJkIHtcclxuICBtYXgtd2lkdGg6IDQwMHB4O1xyXG5cclxuICAuaGVhZGVyLWltYWdlIHtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import {Component, OnInit} from '@angular/core';\r\nimport {AppConstantsService} from '../../shared/service/app-constants/app-constants.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {animate, state, style, transition, trigger} from '@angular/animations';\r\nimport {AuthService} from '../service/auth.service';\r\nimport {AuthUtilService} from '../service/auth-util.service';\r\nimport {AuthSuccessToken} from '../models';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n  animations: [\r\n    trigger('loginComponentAnimate', [\r\n      state('*', style({\r\n        transform: 'translate3D(0px, 0px, 0px)',\r\n        opacity: 1,\r\n      })),\r\n      transition('void => *', [\r\n        style({\r\n          opacity: 0,\r\n          transform: 'translate3D(0px, 150px, 0px)',\r\n        }),\r\n        animate('0.3s 0s ease-out'),\r\n      ]),\r\n    ]),\r\n  ],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  errorMessages = '';\r\n\r\n  constructor(private authService: AuthService,\r\n              private authUtilService: AuthUtilService,\r\n              private appConstantsService: AppConstantsService,\r\n              private route: ActivatedRoute,\r\n              private router: Router) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.tryHandleAuthResponse();\r\n  }\r\n\r\n  authRequest() {\r\n    this.authService.authRequest().subscribe(\r\n      (serverResponse) => {\r\n        this.errorMessages = '';\r\n        const authRedirectUrl = serverResponse.data;\r\n        console.log('authRequest authRedirectUrl: ', authRedirectUrl);\r\n\r\n        // REDIRECT\r\n        window.location.replace(authRedirectUrl);\r\n      },\r\n      (serverError) => {\r\n        console.log('authRequest serverError: ', serverError);\r\n        this.errorMessages = serverError.error.data.message;\r\n      },\r\n    );\r\n  }\r\n\r\n  tryHandleAuthResponse() {\r\n    const queryParams: any = this.route.snapshot.parent.queryParams;\r\n    let authCode = ''\r\n    try {\r\n      authCode = queryParams.code;\r\n      if (!authCode) {\r\n        return;\r\n      }\r\n      console.log('tryHandleAuthResponse authCode: ', authCode)\r\n      this.authService.authCode2Jwt(authCode).subscribe(\r\n        (serverResponse) => {\r\n          this.errorMessages = '';\r\n          const authSuccessToken = <AuthSuccessToken> serverResponse.data;\r\n          console.log('tryHandleAuthResponse authSuccessToken: ', authSuccessToken);\r\n          this.authUtilService.setAuthSuccessToken(authSuccessToken);\r\n\r\n          // REDIRECT\r\n          if (this.authUtilService.redirectUrl) {\r\n            this.router.navigate([this.authUtilService.redirectUrl]);\r\n          } else {\r\n            this.router.navigate([this.appConstantsService.getLoginSuccessRouterLink()]);\r\n          }\r\n        },\r\n        (serverError) => {\r\n          console.log('tryHandleAuthResponse serverError: ', serverError);\r\n          this.errorMessages = serverError.error.data.message;\r\n        },\r\n      );\r\n    } catch (err) {\r\n      // Do nothing, this simply means we're not handling google callback yet\r\n    }\r\n  }\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {LoginComponent} from './login.component';\r\nimport {AngularMaterialModule} from '../../shared/template/angular-material/angular-material.module';\r\nimport {LoginRoutingModule} from './login.routing';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    AngularMaterialModule,\r\n    LoginRoutingModule,\r\n  ],\r\n  declarations: [LoginComponent],\r\n})\r\nexport class LoginModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {LoginComponent} from './login.component';\r\n\r\n\r\nconst loginRoutes: Routes = [\r\n  {\r\n    path: '', component: LoginComponent\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(loginRoutes),\r\n  ],\r\n  exports: [\r\n    RouterModule,\r\n  ],\r\n})\r\nexport class LoginRoutingModule {\r\n}\r\n"],"sourceRoot":""}